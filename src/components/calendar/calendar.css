/* ============================================
   react-calendar 다크모드 스타일
   ============================================ */

/* 캘린더 컨테이너 전체 스타일 */
.react-calendar {
    width: 100%;
    max-width: 100%;
    background-color: hsl(var(--card));
    color: hsl(var(--foreground));
    border: none;
    font-family: inherit;
    padding: 0.5rem;
    border-radius: 0.5rem;
    --tile-size: 40px;
}

/* 월 뷰 컨테이너 배경색 */
.react-calendar__month-view {
    background-color: hsl(var(--card));
}

/* ============================================
   네비게이션 영역 (년월 표시 및 화살표 버튼)
   ============================================ */

/* 네비게이션 컨테이너: 좌측 정렬 */
.react-calendar__navigation {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    height: 36px;
    margin-bottom: 0.75rem;
    padding: 0 0.5rem;
    gap: 0;
}

/* 년월 텍스트 라벨: 가운데 정렬, 클릭 불가 */
.react-calendar__navigation__label {
    font-size: 1rem;
    font-weight: 600;
    color: hsl(var(--foreground));
    pointer-events: none;
    text-align: center;
    margin: 0 !important;
    padding: 0 !important;
    flex-shrink: 0;
    min-width: 120px;
}

/* 화살표 버튼 기본 스타일 (이전/다음 월 이동) */
.react-calendar__navigation__arrow {
    min-width: 32px;
    height: 32px;
    background: hsl(var(--muted));
    color: hsl(var(--foreground));
    border: none;
    border-radius: 0.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    transition: background-color 0.2s;
    margin: 0;
}

/* 화살표 버튼 호버 효과: 더 어두운 색상으로 변경 */
.react-calendar__navigation__arrow:enabled:hover,
.react-calendar__navigation__arrow:enabled:focus {
    background-color: hsl(var(--muted) / 0.8);
}

/* 화살표 버튼 비활성화 상태 */
.react-calendar__navigation__arrow:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

/* 이전/다음 년 버튼 숨김 (월 단위 이동만 표시) */
.react-calendar__navigation__prev2-button,
.react-calendar__navigation__next2-button {
    display: none;
}

/* 이전 월 버튼 위치: 년월 텍스트 왼쪽, 약간의 간격 */
.react-calendar__navigation__prev-button {
    order: 1;
    margin-right: 0.5rem !important;
    margin-left: 0 !important;
}

/* 년월 라벨 위치: 화살표 버튼 사이 */
.react-calendar__navigation__label {
    order: 2;
}

/* 다음 월 버튼 위치: 년월 텍스트 오른쪽, 약간의 간격 */
.react-calendar__navigation__next-button {
    order: 3;
    margin-left: 0.5rem !important;
    margin-right: 0 !important;
}

/* 오늘 날짜로 이동하는 버튼: 네비게이션 영역 오른쪽에 배치 */
.calendar-today-button {
    position: absolute;
    top: calc(0.5rem + (36px - 28px) / 2);
    right: 25%;
    height: 28px;
    padding: 0 0.625rem;
    background: hsl(var(--muted));
    color: hsl(var(--foreground));
    border: 1px solid hsl(var(--border));
    border-radius: 9999px;
    cursor: pointer;
    font-size: 0.75rem;
    font-weight: 500;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    white-space: nowrap;
}

.calendar-today-button:hover {
    background: hsl(var(--accent));
    border-color: hsl(var(--accent));
}

/* ============================================
   요일 헤더 (일, 월, 화, 수, 목, 금, 토)
   ============================================ */

/* 요일 헤더 컨테이너 */
.react-calendar__month-view__weekdays {
    display: flex;
    margin-bottom: 0.25rem;
}

/* 개별 요일 스타일 */
.react-calendar__month-view__weekdays__weekday {
    flex: 1;
    text-align: center;
    padding: 0.375rem 0;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    color: hsl(var(--muted-foreground));
}

/* 요일 텍스트 밑줄 제거 */
.react-calendar__month-view__weekdays__weekday abbr {
    text-decoration: none;
}

/* 일요일: 빨간색 표시 */
.react-calendar__month-view__weekdays__weekday:first-child {
    color: #ef4444;
}

/* 토요일: 파란색 표시 */
.react-calendar__month-view__weekdays__weekday:last-child {
    color: #3b82f6;
}

/* ============================================
   날짜 그리드
   ============================================ */

/* 날짜 그리드 컨테이너: 7열 그리드 레이아웃, 6줄 기준으로 높이 고정 */
.react-calendar__month-view__days {
    display: grid !important;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(6, minmax(0, 1fr));
    gap: 0.0625rem;
    background-color: hsl(var(--card));
    row-gap: 0.125rem;
    min-height: 240px;
}

/* 개별 날짜 타일 기본 스타일 */
.react-calendar__tile {
    aspect-ratio: 1;
    padding: 0.25rem 0.125rem;
    background: hsl(var(--muted) / 0.2);
    text-align: center;
    line-height: 1.2;
    font-size: 0.75rem;
    color: hsl(var(--foreground));
    border-radius: 0.375rem;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    min-height: 0;
}

/* 날짜 타일 호버 효과 */
.react-calendar__tile:enabled:hover,
.react-calendar__tile:enabled:focus {
    background-color: hsl(var(--accent));
}

/* 일요일 날짜: 빨간색 텍스트 (7의 배수 + 1 위치) */
.react-calendar__month-view__days__day:nth-child(7n+1) {
    color: #ef4444;
}

/* 토요일 날짜: 파란색 텍스트 (7의 배수 위치) */
.react-calendar__month-view__days__day:nth-child(7n) {
    color: #3b82f6;
}

/* 이전/다음 달 일요일: 빨간색, 투명도 적용 */
.react-calendar__tile--neighboringMonth:nth-child(7n+1) {
    color: #ef4444;
    opacity: 0.4;
}

/* 이전/다음 달 토요일: 파란색, 투명도 적용 */
.react-calendar__tile--neighboringMonth:nth-child(7n) {
    color: #3b82f6;
    opacity: 0.4;
}

/* 이전/다음 달 날짜: 연한 회색, 투명도 적용 */
.react-calendar__tile--neighboringMonth {
    color: hsl(var(--muted-foreground));
    opacity: 0.4;
}

/* ============================================
   특수 날짜 스타일
   ============================================ */

/* 오늘 날짜: 파란색 배경, 테두리 강조 */
.react-calendar__tile--now {
    background: hsl(var(--primary) / 0.3);
    font-weight: 600;
    color: hsl(var(--foreground));
    border: 1px solid hsl(var(--primary) / 0.5);
}

/* 오늘 날짜 호버 효과 */
.react-calendar__tile--now:enabled:hover,
.react-calendar__tile--now:enabled:focus {
    background: hsl(var(--primary) / 0.4);
}

/* 선택된 날짜: 파란색 원형 배경, 흰색 텍스트 */
.react-calendar__tile--active {
    background: #3b82f6 !important;
    color: white !important;
    font-weight: 600;
    border-radius: 50%;
}

/* 선택된 날짜 호버 효과 */
.react-calendar__tile--active:enabled:hover,
.react-calendar__tile--active:enabled:focus {
    background: #2563eb !important;
}

/* 선택된 날짜가 일요일/토요일일 때도 흰색 텍스트 유지 */
.react-calendar__tile--active:nth-child(7n+1),
.react-calendar__tile--active:nth-child(7n) {
    color: white !important;
}

/* ============================================
   일기 표시 인디케이터
   ============================================ */

/* 일기가 있는 날짜: 하단에 빨간 점 표시 */
.react-calendar__tile.has-entry::after {
    content: '';
    position: absolute;
    bottom: 6px;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 4px;
    background-color: #ef4444;
    border-radius: 50%;
}

/* 선택된 날짜에 일기가 있을 때: 흰색 점 표시 */
.react-calendar__tile--active.has-entry::after {
    background-color: white;
}
